@model prjITicket.ViewModel.CMember
@{
    ViewBag.Title = "PasswordValidate";
}

<div class="h1 text-center"><strong>會員資料</strong></div>
<div class="row mt-3">
    <div class="border alert-success " style="width:800px;margin-left:170px">
        <div class="alert  alert-rounded text-center" role="alert" id="butport3" style="font-size:1.5em;font-weight:bold">密碼修改</div>
    </div>
    <form method="post" id="btnForm">
        <div>
            <div>
                <div>
                    <div class="form-group">
                        <div class="form-horizontal rounded border p-4" id="form2div" style="width:800px;margin-left:170px">
                            <div style="background-color:white; padding-left:250px; margin-left:0px" id="port2">
                                <input type="hidden" value="@ViewBag.email" name="email" />
                                <div class="form-group">
                                    <label class="control-label col-md-4">請輸入新密碼:</label>
                                    <div class="col-md-6">
                                        @Html.PasswordFor(model => model.Password, new { @class = "form-control", id = "txtNPassword" })
                                        @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-5">請再一次輸入新密碼:</label>
                                    <div class="col-md-6">
                                        @Html.PasswordFor(model => model.Password, new { @class = "form-control", id = "txtANPassword" })
                                        @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-offset-2 col-md-10">
                                        <input id="btnPassword" type="button" value="確認修改" class="btn btn-success" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>



<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/mvc/3.0/jquery.validate.unobtrusive.js" type="text/javascript"></script>
<script>
    $("#btnPassword").click(function () {
        if ($("#txtNPassword").val() == $("#txtANPassword").val()) {
            alert("修改成功")
            $("#btnForm").submit();
          }
        else {
            alert("新密碼兩者需輸入相同");
        }

    });
</script>